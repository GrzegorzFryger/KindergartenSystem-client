<div class="d-flex user">
  <mat-card [matMenuTriggerFor]="menu">
    <div class="user-container">
      <div class="name">
        {{(user | async)?.name }}  {{(user | async)?.surname }}
      </div>
      <div class="img">
        <img src="../../../assets/images/tata.png" height="50" width="50" class="img-fluid"/>
      </div>

      <mat-menu class="user-dropdown-menu" #menu="matMenu" xPosition="before">
        <mat-button-toggle-group #group="matButtonToggleGroup">

          <mat-button-toggle [ngClass]="selectedRole === 'USER' ? 'role-selected' : ''"
                             *ngIf="isUserParent"
                             (click)="changeRole('USER')"
                             matTooltip="Rodzic">
            <mat-icon>perm_identity</mat-icon>
          </mat-button-toggle>

          <mat-button-toggle [ngClass]="selectedRole === 'TEACHER' ? 'role-selected' : ''"
                             *ngIf="isUserTeacher"
                             (click)="changeRole('TEACHER')"
                             matTooltip="Nauczyciel">
            <mat-icon>school</mat-icon>
          </mat-button-toggle>

          <mat-button-toggle [ngClass]="selectedRole === 'ADMINISTRATOR' ? 'role-selected' : ''"
                             *ngIf="isUserAdmin"
                             (click)="changeRole('ADMINISTRATOR')"
                             matTooltip="Administrator">
            <mat-icon>supervisor_account</mat-icon>
          </mat-button-toggle>

        </mat-button-toggle-group>


        <button *ngIf="selectedRole === 'USER'" mat-menu-item routerLink="/parent/user-edit">Edytuj Konto</button>
        <button *ngIf="selectedRole === 'TEACHER'" mat-menu-item routerLink="/teacher/user-edit">Edytuj Konto</button>
        <button *ngIf="selectedRole === 'ADMINISTRATOR'" mat-menu-item routerLink="/administrator/user-edit">Edytuj Konto</button>
        <button mat-menu-item (click)="logout()">Wyloguj</button>
      </mat-menu>

    </div>

  </mat-card>


</div>
